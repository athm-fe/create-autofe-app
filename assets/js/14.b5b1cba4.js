(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{223:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"配置参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置参考"}},[t._v("#")]),t._v(" 配置参考")]),t._v(" "),a("h2",{attrs:{id:"目标浏览器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标浏览器"}},[t._v("#")]),t._v(" 目标浏览器")]),t._v(" "),a("p",[t._v("请查阅指南中的"),a("RouterLink",{attrs:{to:"/guide/browser-compatibility.html#browserslist"}},[t._v("浏览器兼容性")]),t._v("章节。")],1),t._v(" "),a("h2",{attrs:{id:"creator-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creator-config-js"}},[t._v("#")]),t._v(" creator.config.js")]),t._v(" "),a("p",[a("code",[t._v("creator.config.js")]),t._v(" 是一个可选的配置文件，如果项目的 (和 "),a("code",[t._v("package.json")]),t._v(" 同级的) 根目录中存在这个文件，那么它会被 "),a("code",[t._v("autofe-script")]),t._v(" 自动加载。")]),t._v(" "),a("p",[t._v("这个文件应该导出一个包含了选项的对象：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// creator.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选项...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"publicpath"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#publicpath"}},[t._v("#")]),t._v(" publicPath")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("string")])])]),t._v(" "),a("li",[a("p",[t._v("Default: "),a("code",[t._v("'/'")])]),t._v(" "),a("p",[a("strong",[t._v("这个参数目前不要动，针对多页应用怎么使用，还没想好。")])])])]),t._v(" "),a("h3",{attrs:{id:"transpiledependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transpiledependencies"}},[t._v("#")]),t._v(" transpileDependencies")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("Array<string | RegExp>")])])]),t._v(" "),a("li",[a("p",[t._v("Default: "),a("code",[t._v("[]")])]),t._v(" "),a("p",[t._v("默认情况下 "),a("code",[t._v("babel-loader")]),t._v(" 会忽略所有 "),a("code",[t._v("node_modules")]),t._v(" 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。")])])]),t._v(" "),a("h3",{attrs:{id:"configurewebpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configurewebpack"}},[t._v("#")]),t._v(" configureWebpack")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("Object | Function")])]),t._v(" "),a("p",[t._v("如果这个值是一个对象，则会通过 "),a("a",{attrs:{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-merge"),a("OutboundLink")],1),t._v(" 合并到最终的配置中。")]),t._v(" "),a("p",[t._v("如果这个值是一个函数，则会接收被解析的配置作为参数。该函数及可以修改配置并不返回任何东西，也可以返回一个被克隆或合并过的配置版本。")]),t._v(" "),a("p",[t._v("更多细节可查阅："),a("RouterLink",{attrs:{to:"/guide/webpack.html#简单的配置方式"}},[t._v("配合 webpack > 简单的配置方式")])],1)])]),t._v(" "),a("h3",{attrs:{id:"chainwebpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chainwebpack"}},[t._v("#")]),t._v(" chainWebpack")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("Function")])]),t._v(" "),a("p",[t._v("是一个函数，会接收一个基于 "),a("a",{attrs:{href:"https://github.com/mozilla-neutrino/webpack-chain",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-chain"),a("OutboundLink")],1),t._v(" 的 "),a("code",[t._v("ChainableConfig")]),t._v(" 实例。允许对内部的 webpack 配置进行更细粒度的修改。")]),t._v(" "),a("p",[t._v("更多细节可查阅："),a("RouterLink",{attrs:{to:"/guide/webpack.html#链式操作-高级"}},[t._v("配合 webpack > 链式操作")])],1)])]),t._v(" "),a("h3",{attrs:{id:"css-loaderoptions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-loaderoptions"}},[t._v("#")]),t._v(" css.loaderOptions")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("Object")])])]),t._v(" "),a("li",[a("p",[t._v("Default: "),a("code",[t._v("{}")])]),t._v(" "),a("p",[t._v("向 CSS 相关的 loader 传递选项。例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("css")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loaderOptions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("css")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里的选项会传递给 css-loader")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("postcss")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里的选项会传递给 postcss-loader")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scss")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里的选项会传递给 sass-loader")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("支持的 loader 有：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/webpack-contrib/css-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("css-loader"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/postcss/postcss-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-loader"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("sass-loader"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("更多细节可查阅："),a("RouterLink",{attrs:{to:"/guide/css.html#向预处理器-loader-传递选项"}},[t._v("向预处理器 Loader 传递选项")])],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("相比于使用 "),a("code",[t._v("chainWebpack")]),t._v(" 手动指定 loader 更推荐上面这样做，因为这些选项需要应用在使用了相应 loader 的多个地方。")])])])]),t._v(" "),a("h3",{attrs:{id:"devserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devserver"}},[t._v("#")]),t._v(" devServer")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("Object")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://webpack.js.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"}},[t._v("所有 "),a("code",[t._v("webpack-dev-server")]),t._v(" 的选项"),a("OutboundLink")],1),t._v("都支持。注意：")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("serveIndex")]),t._v(" 为 "),a("code",[t._v("true")]),t._v("，且不能修改")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("contentBase")]),t._v("，"),a("code",[t._v("contentBasePublicPath")]),t._v(" 和 "),a("code",[t._v("watchContentBase")]),t._v(" 目前也不支持修改")])]),t._v(" "),a("li",[a("p",[t._v("有些值像 "),a("code",[t._v("publicPath")]),t._v(" 和 "),a("code",[t._v("historyApiFallback")]),t._v(" 不应该被修改，因为它们需要和开发服务器的 "),a("a",{attrs:{href:"#publicpath"}},[t._v("publicPath")]),t._v(" 同步以保障正常的工作。")])])])])]),t._v(" "),a("h3",{attrs:{id:"devserver-proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devserver-proxy"}},[t._v("#")]),t._v(" devServer.proxy")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Type: "),a("code",[t._v("string | Object")])]),t._v(" "),a("p",[t._v("如果你的前端应用和后端 API 服务器没有运行在同一个主机上，你需要在开发环境下将 API 请求代理到 API 服务器。这个问题可以通过 "),a("code",[t._v("creator.config.js")]),t._v(" 中的 "),a("code",[t._v("devServer.proxy")]),t._v(" 选项来配置。")]),t._v(" "),a("p",[a("code",[t._v("devServer.proxy")]),t._v(" 可以是一个指向开发环境 API 服务器的字符串：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:4000'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这会告诉开发服务器将任何未知请求 (没有匹配到静态文件的请求) 代理到"),a("code",[t._v("http://localhost:4000")]),t._v("。")]),t._v(" "),a("p",[t._v("如果你想要更多的代理控制行为，也可以使用一个 "),a("code",[t._v("path: options")]),t._v(" 成对的对象。完整的选项可以查阅 "),a("a",{attrs:{href:"https://github.com/chimurai/http-proxy-middleware#proxycontext-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("http-proxy-middleware"),a("OutboundLink")],1),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<url>'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ws")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeOrigin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/foo'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<other_url>'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[t._v("#")]),t._v(" Babel")]),t._v(" "),a("p",[t._v("Babel 可以通过 "),a("code",[t._v("babel.config.js")]),t._v(" 进行配置。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'autofe-app'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// debug: true,")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// useBuiltIns: 'usage',")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// helpers: false,")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("Creator 使用了 Babel 7 中的新配置格式 "),a("code",[t._v("babel.config.js")]),t._v("。和 "),a("code",[t._v(".babelrc")]),t._v(" 或 "),a("code",[t._v("package.json")]),t._v(" 中的 "),a("code",[t._v("babel")]),t._v(" 字段不同，这个配置文件不会使用基于文件位置的方案，而是会一致地运用到项目根目录以下的所有文件，包括 "),a("code",[t._v("node_modules")]),t._v(" 内部的依赖。")])]),t._v(" "),a("p",[t._v("所有的 Creator 应用都使用 "),a("code",[t._v("babel-preset-autofe-app")]),t._v("，它包含了 "),a("code",[t._v("@babel/preset-env")]),t._v(" 以及为最小化包体积优化过的配置。通过"),a("a",{attrs:{href:"https://github.com/athm-fe/create-autofe-app/tree/master/packages/babel-preset-autofe-app",target:"_blank",rel:"noopener noreferrer"}},[t._v("它的文档"),a("OutboundLink")],1),t._v("可以查阅到更多细节和 preset 选项。")]),t._v(" "),a("p",[t._v("同时查阅指南中的 "),a("RouterLink",{attrs:{to:"/guide/browser-compatibility.html#polyfill"}},[t._v("Polyfill")]),t._v(" 章节。")],1),t._v(" "),a("h2",{attrs:{id:"eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[t._v("#")]),t._v(" ESLint")]),t._v(" "),a("p",[t._v("查阅指南中的 "),a("RouterLink",{attrs:{to:"/guide/eslint.html"}},[t._v("ESLint")]),t._v(" 章节。")],1),t._v(" "),a("h2",{attrs:{id:"typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[t._v("#")]),t._v(" TypeScript")]),t._v(" "),a("p",[t._v("使用 TypeScript + "),a("code",[t._v("babel-loader")]),t._v(" 来支持 TypeScript 编译。")]),t._v(" "),a("p",[t._v("使用 ESLint + "),a("code",[t._v("fork-ts-checker-webpack-plugin")]),t._v(" 来检查 TypeScript 代码。")]),t._v(" "),a("p",[t._v("TypeScript 可以通过 "),a("code",[t._v("tsconfig.json")]),t._v(" 来配置。")]),t._v(" "),a("p",[t._v("查阅指南中的 "),a("RouterLink",{attrs:{to:"/guide/typescript.html"}},[t._v("TypeScript")]),t._v(" 章节。")],1)])}),[],!1,null,null,null);a.default=r.exports}}]);